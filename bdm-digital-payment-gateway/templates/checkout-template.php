<?php
/**
 * Template Name: BDM Checkout
 * Description: Template for the BDM Digital Checkout page.
 */

get_header();  // Standard for WordPress templates

?>

<section id="bdm-checkout-container">
    <ul class="steps d-flex flex-column p-0 m-0">
        <!-- Step 1: Checkout -->
        <li id="step-1">
            <h2><?php esc_html_e( 'Pedido', 'bdm-checkout' ); ?></h2>

            <?php
                if ( class_exists( 'WooCommerce' ) ) {
                    // WooCommerce cart display
                    echo get_bdm_checkout_cart();
                }
            ?>

            <h3 class="d-flex align-items-center gap-1"><?php esc_html_e( 'BDM Digital', 'bdm-checkout' ); ?></h3>

            <div class="disclaimer d-flex flex-column gap-3">
                <p class="m-0"><?php esc_html_e( 'Após a conclusão da compra, geraremos o código de pagamento em BDM DIGITAL.', 'bdm-checkout' ); ?></p>
                <p class="m-0">
                    <small><?php esc_html_e( 'Nosso sistema identifica automaticamente o pagamento, dispensando a necessidade de envio de comprovantes.', 'bdm-checkout' ); ?></small>
                </p>
            </div>

            <button id="bdm-checkout-button" class="btn btn-primary"><?php esc_html_e( 'Finalizar Pedido', 'bdm-checkout' ); ?></button>
        </li>

        <!-- Step 2: Payment Instructions -->
        <li id="step-2" class="d-none flex-column gap-4">
            <h2><?php esc_html_e( 'Efetue o pagamento para concluir.', 'bdm-checkout' ); ?></h2>
            <p><?php esc_html_e( 'Escaneie o QR code ou copie o código abaixo para realizar o pagamento em BDM DIGITAL.', 'bdm-checkout' ); ?><br/>
                <?php esc_html_e( 'O sistema irá reconhecer automaticamente a transferência.', 'bdm-checkout' ); ?>
                <br/><br/>
                <?php esc_html_e( 'O pagamento pode levar até 5 minutos para a confirmação.', 'bdm-checkout' ); ?></p>
            <div id="qrcode"></div>
            <div id="billingcode"></div>
        </li>

        <!-- Step 3: Payment Success -->
        <li id="step-3" class="d-none flex-column gap-4">
            <svg
                width="192"
                height="68"
                viewBox="0 0 192 68"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_22496_1473)">
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M33.9263 0L33.9597 0.153906C33.9799 0.234204 33.9931 1.01712 33.9931 1.88703C33.9931 3.24541 33.9799 3.493 33.8862 3.58001C33.7992 3.66699 33.1703 3.68038 29.1017 3.68038C25.0332 3.68038 24.4109 3.66699 24.3239 3.58001C24.2435 3.49969 24.2236 3.20527 24.2169 1.86695C24.2169 0.796298 24.2368 0.21413 24.2838 0.12714C24.3573 0.00669118 24.4846 0 33.9263 0ZM187.699 33.1902H191.178V46.6739C191.178 58.5981 191.165 60.164 191.078 60.1908C191.025 60.2109 190.288 60.2242 189.439 60.2242C188.589 60.2242 187.853 60.2109 187.799 60.1908C187.712 60.164 187.699 58.5981 187.699 46.6739V33.1902ZM0 42.4247H24.3573V46.0381H0V42.4247ZM139.151 43.7027C139.299 43.7027 139.747 43.7295 140.155 43.7629C140.563 43.803 141.085 43.8767 141.326 43.9369C141.567 43.9905 142.049 44.1242 142.397 44.238C142.745 44.3518 143.394 44.6194 143.836 44.8269C144.277 45.041 144.906 45.4091 145.234 45.6433C145.562 45.8776 145.957 46.1919 146.412 46.6068V53.633C146.412 57.9023 146.385 60.947 146.345 61.3953C146.305 61.7967 146.211 62.3723 146.137 62.6667C146.064 62.9611 145.917 63.3959 145.816 63.637C145.716 63.8779 145.462 64.3394 145.248 64.6742C145.033 65.0087 144.659 65.4705 144.411 65.7113C144.17 65.9522 143.742 66.3135 143.467 66.5077C143.193 66.7016 142.798 66.9427 142.598 67.0496C142.397 67.1501 141.975 67.3239 141.661 67.4377C141.346 67.5448 140.777 67.7053 140.389 67.7923C139.781 67.9329 139.513 67.9531 138.348 67.9531C137.238 67.9531 136.89 67.9263 136.274 67.8058C135.866 67.7255 135.116 67.518 134.601 67.3575C134.086 67.1902 133.363 66.9225 132.995 66.7618C132.627 66.6013 132.031 66.3002 131.677 66.0928C131.316 65.8854 131.008 65.6644 130.988 65.6108C130.968 65.5575 131.249 64.9686 131.61 64.306C131.965 63.6436 132.299 63.1017 132.346 63.1017C132.386 63.1017 132.567 63.202 132.748 63.3291C132.921 63.4564 133.41 63.724 133.832 63.9314C134.253 64.132 134.889 64.393 135.237 64.5068C135.585 64.6206 136.174 64.7745 136.542 64.8482C137.004 64.9485 137.458 64.9885 138.014 64.9885C138.496 64.9885 139.031 64.9418 139.352 64.875C139.647 64.8145 140.068 64.6875 140.289 64.6005C140.51 64.5068 140.871 64.3195 141.092 64.1723C141.313 64.0317 141.634 63.7707 141.801 63.5901C141.969 63.4161 142.21 63.0749 142.343 62.8338C142.477 62.593 142.638 62.2184 142.698 61.9975C142.778 61.7097 142.818 61.2414 142.838 60.3112C142.852 59.6019 142.852 59.0196 142.832 59.0196C142.812 59.0196 142.638 59.1202 142.45 59.2472C142.256 59.3677 141.949 59.5483 141.761 59.6419C141.58 59.7358 141.186 59.903 140.891 60.0234C140.597 60.1372 140.128 60.2979 139.854 60.3714C139.52 60.4584 139.024 60.512 138.382 60.5388C137.786 60.5587 137.177 60.5454 136.809 60.4985C136.481 60.4518 135.893 60.3112 135.505 60.1841C135.116 60.0568 134.561 59.816 134.267 59.6488C133.972 59.4815 133.51 59.1737 133.236 58.9663C132.962 58.7589 132.574 58.3907 132.373 58.1498C132.172 57.909 131.891 57.5477 131.757 57.3469C131.617 57.1461 131.416 56.7981 131.309 56.5774C131.195 56.3564 131.021 55.9482 130.921 55.6739C130.82 55.3996 130.666 54.8577 130.573 54.4694C130.446 53.9341 130.399 53.5059 130.372 52.6627C130.345 51.96 130.365 51.3377 130.419 50.9563C130.459 50.6218 130.573 50.1 130.66 49.7854C130.753 49.4708 131.001 48.8551 131.222 48.4135C131.463 47.9318 131.804 47.3832 132.072 47.0352C132.326 46.7206 132.754 46.259 133.029 46.0046C133.303 45.7503 133.771 45.389 134.066 45.2017C134.36 45.0075 134.755 44.7733 134.936 44.6797C135.123 44.586 135.571 44.4054 135.94 44.2781C136.307 44.151 136.863 43.9971 137.177 43.9303C137.492 43.8701 138 43.7897 138.315 43.7629C138.63 43.7361 139.004 43.7093 139.151 43.7027ZM137.445 47.015C137.244 47.0752 136.849 47.236 136.575 47.3763C136.301 47.5103 135.893 47.7845 135.672 47.9787C135.451 48.1726 135.136 48.5005 134.983 48.7079C134.822 48.9154 134.574 49.3236 134.427 49.618C134.287 49.9125 134.126 50.334 134.066 50.5549C134.012 50.7756 133.932 51.2576 133.892 51.6255C133.838 52.1072 133.838 52.4688 133.892 52.9303C133.932 53.2783 134.032 53.7937 134.106 54.068C134.18 54.3423 134.36 54.7972 134.507 55.0718C134.648 55.346 134.882 55.7142 135.016 55.8813C135.157 56.0487 135.404 56.3029 135.571 56.4501C135.739 56.5973 136.04 56.8047 136.241 56.9252C136.441 57.0389 136.796 57.1997 137.03 57.2732C137.258 57.3535 137.679 57.4472 137.967 57.4875C138.335 57.5408 138.656 57.5408 139.084 57.4875C139.412 57.4472 139.867 57.3668 140.088 57.3135C140.309 57.2533 140.818 57.0458 141.226 56.8517C141.741 56.5973 142.096 56.3699 142.417 56.0821L142.865 55.6739V48.1458C142.216 47.6641 141.835 47.4299 141.594 47.3095C141.353 47.189 140.945 47.0418 140.69 46.9749C140.436 46.9079 139.934 46.841 139.586 46.8211C139.238 46.8076 138.696 46.8142 138.382 46.8476C138.067 46.8813 137.646 46.9548 137.445 47.015ZM32.762 7.09306C37.3391 7.09306 41.1331 7.10646 41.1867 7.12654C41.2737 7.1533 41.287 7.41427 41.287 8.93325C41.287 10.4522 41.2737 10.7132 41.1867 10.74C41.1331 10.76 37.3391 10.7734 32.7554 10.7734C25.4414 10.7734 24.4109 10.7601 24.3239 10.6731C24.2435 10.5928 24.2236 10.2983 24.2169 8.93994C24.2169 7.50796 24.2302 7.28713 24.3239 7.20015C24.4244 7.10646 25.2809 7.09306 32.762 7.09306ZM48.5808 14.1861V17.7996H36.4356C25.7024 17.7996 24.2838 17.7862 24.257 17.6992C24.2368 17.6457 24.2236 16.8762 24.2236 15.9929C24.2236 15.1096 24.2435 14.3401 24.2636 14.2865C24.2971 14.1995 25.7157 14.1861 48.5808 14.1861ZM32.762 21.2123C37.3391 21.2123 41.1331 21.2257 41.1867 21.2458C41.2737 21.2725 41.287 21.5335 41.287 23.0525C41.287 24.5716 41.2737 24.8324 41.1867 24.8591C41.1331 24.8793 37.3391 24.8926 32.7554 24.8926C25.4414 24.8926 24.4109 24.8793 24.3239 24.7923C24.2435 24.7119 24.2236 24.4175 24.2169 23.0591C24.2169 21.6272 24.2302 21.4064 24.3239 21.3194C24.4244 21.2257 25.2809 21.2123 32.762 21.2123ZM31.5843 28.3054V31.9188H16.9297L16.9163 30.159C16.9096 29.1887 16.9297 28.3723 16.9632 28.3523C16.9966 28.3255 20.2956 28.3054 31.5843 28.3054ZM116.166 33.1902H117.906C119.391 33.1902 119.652 33.2037 119.679 33.2907C119.699 33.344 119.712 38.9182 119.712 57.949L119.498 58.1565C119.378 58.2703 119.003 58.5446 118.675 58.7721C118.347 58.9929 117.745 59.3342 117.337 59.535C116.929 59.729 116.239 60.0101 115.798 60.1573C115.356 60.2979 114.761 60.465 114.479 60.5186C114.192 60.5788 113.65 60.6592 113.275 60.6993C112.88 60.7462 112.224 60.7595 111.749 60.7396C111.288 60.7128 110.672 60.6526 110.378 60.599C110.083 60.5388 109.601 60.4183 109.307 60.3178C109.012 60.2242 108.544 60.0435 108.27 59.9165C107.995 59.7825 107.514 59.5082 107.199 59.3008C106.885 59.0934 106.389 58.6918 106.095 58.4109C105.801 58.1297 105.406 57.6748 105.218 57.4071C105.024 57.1328 104.737 56.6442 104.569 56.3097C104.402 55.975 104.188 55.4665 104.094 55.172C104.001 54.8776 103.873 54.4227 103.813 54.1683C103.76 53.9142 103.693 53.2316 103.673 52.6627C103.653 52.0136 103.666 51.3979 103.719 51.0234C103.76 50.6886 103.873 50.14 103.96 49.8055C104.047 49.4642 104.241 48.9021 104.389 48.5676C104.536 48.2262 104.817 47.6909 105.011 47.3832C105.198 47.0752 105.613 46.5532 105.928 46.2187C106.242 45.8842 106.737 45.4359 107.032 45.215C107.326 45.0009 107.868 44.673 108.236 44.4924C108.611 44.3117 109.2 44.0908 109.575 43.9971C109.943 43.9035 110.592 43.7963 111.013 43.7563C111.555 43.7093 111.997 43.7093 112.519 43.7629C112.927 43.803 113.476 43.89 113.743 43.9637C114.004 44.0372 114.52 44.238 114.881 44.4054C115.236 44.5725 115.671 44.7935 116.166 45.1012V33.1902ZM110.545 47.0418C110.304 47.1222 109.929 47.2827 109.708 47.4097C109.488 47.5304 109.126 47.7912 108.912 47.9853C108.698 48.1861 108.39 48.5273 108.236 48.7482C108.076 48.9689 107.862 49.3302 107.748 49.5512C107.641 49.7719 107.487 50.1467 107.413 50.3875C107.34 50.6284 107.246 51.1236 107.206 51.4918C107.152 51.9401 107.152 52.3616 107.192 52.7632C107.226 53.0977 107.306 53.5794 107.367 53.8338C107.427 54.0879 107.607 54.5699 107.768 54.9044C107.929 55.2389 108.196 55.6874 108.37 55.9081C108.537 56.1291 108.838 56.4368 109.026 56.5973C109.22 56.7514 109.568 56.9787 109.809 57.106C110.05 57.2331 110.458 57.4005 110.712 57.4806C111.047 57.5878 111.415 57.6413 112.017 57.6613C112.505 57.6814 113.061 57.6681 113.355 57.6212C113.63 57.5742 114.071 57.4673 114.326 57.3737C114.587 57.2867 115.102 57.0389 115.483 56.8249L116.166 56.4434L116.159 48.3466C115.463 47.798 114.961 47.4901 114.593 47.3095C114.205 47.1155 113.757 46.9548 113.523 46.9147C113.302 46.8813 112.867 46.8344 112.552 46.8211C112.238 46.8009 111.756 46.8142 111.482 46.841C111.207 46.8744 110.786 46.9614 110.545 47.0418ZM7.36074 35.3985H24.3573V39.0119H7.36074V35.3985ZM160.036 36.0677C161.488 36.0677 161.742 36.081 161.769 36.168C161.789 36.2216 161.802 38.0617 161.802 44.2314H163.696C164.733 44.2314 165.623 44.2582 165.664 44.2849C165.73 44.3184 165.744 44.673 165.717 47.1421L161.802 47.1757L161.836 56.2426L161.996 56.6442C162.09 56.8649 162.271 57.1527 162.405 57.28C162.539 57.4071 162.779 57.5543 162.947 57.6079C163.134 57.6613 163.435 57.6814 163.777 57.6681C164.158 57.6413 164.432 57.5811 164.747 57.4538C164.988 57.3535 165.242 57.2533 165.316 57.2331C165.429 57.2063 165.516 57.3469 165.971 58.2769C166.252 58.8724 166.486 59.4011 166.486 59.4547C166.486 59.5082 166.359 59.642 166.206 59.7491C166.045 59.8563 165.677 60.0637 165.382 60.2109C165.088 60.3581 164.653 60.5321 164.412 60.599C164.078 60.6926 163.736 60.7194 162.94 60.7194C162.097 60.7128 161.802 60.686 161.367 60.5656C161.073 60.4852 160.665 60.3446 160.464 60.2443C160.263 60.1438 159.895 59.8629 159.654 59.622C159.32 59.2942 159.146 59.0464 158.938 58.6183C158.791 58.3037 158.604 57.822 158.53 57.5477C158.457 57.2732 158.363 56.7514 158.323 56.3967C158.283 55.9683 158.256 52.3215 158.256 46.0046C158.256 40.6514 158.276 36.2216 158.296 36.168C158.329 36.081 158.584 36.0677 160.036 36.0677ZM125.802 36.6364C126.143 36.6632 126.411 36.7234 126.638 36.8304C126.825 36.9174 127.086 37.1182 127.227 37.2654C127.361 37.4192 127.541 37.667 127.622 37.8275C127.749 38.0617 127.776 38.2155 127.776 38.7442C127.776 39.2596 127.749 39.4267 127.635 39.6477C127.555 39.7949 127.327 40.0625 127.133 40.2365C126.912 40.4305 126.645 40.5978 126.437 40.6647C126.197 40.7384 125.922 40.7652 125.467 40.7451C124.932 40.7183 124.785 40.6848 124.53 40.5443C124.363 40.444 124.102 40.223 123.942 40.0424C123.787 39.8617 123.613 39.5808 123.56 39.4134C123.5 39.2461 123.46 38.9317 123.46 38.7108C123.46 38.4901 123.5 38.1755 123.553 38.0081C123.613 37.841 123.801 37.5465 123.975 37.3457C124.149 37.1516 124.41 36.9309 124.55 36.864C124.684 36.7903 124.912 36.7099 125.052 36.6699C125.186 36.6364 125.527 36.6229 125.802 36.6364ZM152.535 36.6431C152.836 36.6632 153.123 36.7301 153.337 36.8304C153.525 36.9174 153.793 37.1248 153.94 37.2855C154.087 37.446 154.261 37.7004 154.335 37.8476C154.401 37.9882 154.482 38.2625 154.509 38.4431C154.542 38.6304 154.535 38.9182 154.502 39.0989C154.469 39.2729 154.388 39.5272 154.314 39.6676C154.248 39.8015 154.027 40.0625 153.833 40.2365C153.632 40.4105 153.337 40.5978 153.17 40.658C153.003 40.7116 152.628 40.7517 152.334 40.7517C152.006 40.7517 151.665 40.7116 151.464 40.6379C151.236 40.5644 151.016 40.4105 150.755 40.1562C150.5 39.8952 150.346 39.6744 150.273 39.4469C150.206 39.2662 150.159 38.9317 150.159 38.7108C150.159 38.4901 150.199 38.1755 150.253 38.0081C150.313 37.841 150.5 37.5465 150.674 37.3457C150.848 37.1516 151.116 36.9242 151.263 36.8505C151.41 36.7836 151.651 36.6966 151.798 36.6632C151.946 36.6364 152.28 36.6229 152.535 36.6431ZM35.3515 37.0044C40.3167 37.0044 41.3472 37.0179 41.8424 37.1049C42.1637 37.1585 42.7191 37.3123 43.0804 37.4394C43.4351 37.5665 43.9436 37.8007 44.1979 37.9545C44.459 38.1086 44.9205 38.4832 45.2418 38.8044C45.5696 39.1323 45.9378 39.5808 46.0916 39.8485C46.2455 40.1026 46.4397 40.531 46.5267 40.7851C46.6203 41.0395 46.7272 41.4811 46.7742 41.7554C46.8277 42.0767 46.8476 42.612 46.8211 43.2276C46.8009 43.977 46.754 44.3049 46.6402 44.6664C46.5601 44.9205 46.3861 45.3489 46.259 45.603C46.1317 45.8574 45.8641 46.2656 45.6701 46.5065C45.476 46.7474 45.1415 47.0819 44.9272 47.2492C44.7064 47.4166 44.412 47.624 44.2648 47.711C44.1176 47.8047 43.7897 47.9519 43.5287 48.0522C43.0603 48.2328 43.0603 48.2328 43.2945 48.2663C43.4218 48.293 43.803 48.4471 44.1311 48.6076C44.4656 48.775 44.9205 49.0694 45.1481 49.2634C45.3757 49.4575 45.7168 49.7987 45.9044 50.0196C46.0983 50.2403 46.3526 50.5883 46.4664 50.7891C46.5869 50.9899 46.7474 51.3244 46.8277 51.5252C46.9081 51.726 47.0352 52.1207 47.1087 52.395C47.1824 52.6693 47.2625 53.198 47.2827 53.5661C47.3095 53.9476 47.2962 54.4762 47.2492 54.8041C47.2092 55.1185 47.1155 55.6137 47.0352 55.9081C46.9614 56.2026 46.8009 56.6575 46.6805 56.9119C46.5601 57.1662 46.3259 57.561 46.1585 57.7817C45.9911 58.0026 45.69 58.3305 45.4961 58.5111C45.2953 58.6918 44.9407 58.9663 44.6998 59.1268C44.459 59.2807 44.0574 59.5016 43.7963 59.6085C43.5422 59.7223 43.1006 59.8695 42.826 59.9433C42.5517 60.0234 42.0899 60.1173 41.809 60.1507C41.4745 60.1974 39.1591 60.2242 35.4319 60.2242C30.3195 60.2242 29.5633 60.2109 29.4765 60.1239C29.3895 60.0369 29.376 58.665 29.376 48.6143C29.376 42.3377 29.3961 37.1585 29.4163 37.1049C29.4497 37.0179 30.1723 37.0044 35.3515 37.0044ZM32.9894 46.841C39.9153 46.8009 40.4305 46.7874 40.7517 46.6871C40.9525 46.6269 41.287 46.493 41.4878 46.3927C41.6886 46.2924 42.0366 46.0314 42.2639 45.8105C42.5117 45.5563 42.739 45.2484 42.8528 45.0009C42.96 44.7799 43.087 44.3852 43.1406 44.1311C43.2008 43.8366 43.2276 43.5019 43.2008 43.2276C43.1807 42.9868 43.1072 42.6255 43.047 42.4247C42.9801 42.2239 42.8329 41.9093 42.7257 41.722C42.6186 41.5414 42.3912 41.2536 42.2239 41.0862C42.0565 40.9191 41.7353 40.6915 41.5146 40.571C41.3005 40.4573 40.939 40.31 40.7183 40.2432C40.3636 40.1429 39.8885 40.1227 36.6566 40.1026L33.0029 40.0758L32.9894 46.841ZM32.9894 57.0792C39.3933 57.0724 40.2968 57.0525 40.7183 56.9787C41.0528 56.9185 41.4544 56.7782 41.8024 56.6108C42.1502 56.4434 42.4782 56.2159 42.6923 56.0084C42.873 55.8211 43.1072 55.4999 43.2143 55.2858C43.3213 55.0718 43.4483 54.737 43.5019 54.5365C43.5488 54.329 43.5889 53.8471 43.5889 53.4656C43.5889 52.9839 43.5488 52.6293 43.4618 52.3616C43.4016 52.1409 43.2878 51.8531 43.2276 51.726C43.1608 51.5921 42.96 51.3244 42.7727 51.1236C42.5719 50.896 42.2639 50.6552 41.983 50.5013C41.7286 50.3676 41.2803 50.1936 40.9859 50.1199C40.4708 49.9862 40.2633 49.9793 36.7168 49.9793L32.9894 49.9862V57.0792ZM56.6309 37.0179C61.4287 37.0447 61.7632 37.0513 62.399 37.185C62.767 37.2587 63.3091 37.3858 63.6036 37.4662C63.8978 37.5465 64.44 37.7272 64.8079 37.8744C65.1761 38.015 65.805 38.3227 66.2132 38.5569C66.6215 38.7845 67.2236 39.1726 67.5515 39.4201C67.8793 39.6609 68.4348 40.1628 68.7894 40.5241C69.1375 40.8856 69.6125 41.4676 69.8468 41.8223C70.081 42.1703 70.4624 42.8462 70.6966 43.3279C70.924 43.803 71.2118 44.499 71.3256 44.8669C71.4394 45.2351 71.5932 45.8641 71.6667 46.2723C71.7606 46.7341 71.8208 47.4299 71.8476 48.1795C71.8675 48.9021 71.8542 49.6047 71.8007 50.0196C71.7606 50.3875 71.6802 50.9096 71.6267 51.1905C71.5665 51.465 71.4325 51.9937 71.3189 52.3616C71.2052 52.7298 71.0245 53.2383 70.9107 53.4993C70.7969 53.7534 70.5426 54.2487 70.342 54.6033C70.1412 54.9513 69.8468 55.4198 69.6929 55.6405C69.5388 55.8612 69.1574 56.3029 68.843 56.6309C68.5351 56.9588 68.06 57.4071 67.7857 57.6278C67.5048 57.8488 66.9493 58.2233 66.5477 58.4644C66.1395 58.7053 65.6445 58.9729 65.4437 59.0666C65.2363 59.1536 64.875 59.3008 64.6408 59.3945C64.3997 59.4815 63.9314 59.6353 63.6036 59.729C63.2688 59.8228 62.6667 59.9565 62.2651 60.0369C61.5693 60.1706 61.2481 60.1775 56.6108 60.204C52.1674 60.2308 51.6791 60.2242 51.5719 60.1239C51.4581 60.0234 51.4581 59.3945 51.4581 48.6143C51.4581 42.3377 51.4716 37.1585 51.4984 37.0982C51.5385 37.0044 52.0807 36.9977 56.6309 37.0179ZM55.0718 57.0792C60.3648 57.0323 61.1009 57.0055 61.529 56.9185C61.8234 56.8649 62.3187 56.7379 62.6333 56.6376C62.941 56.5371 63.4696 56.323 63.8041 56.1556C64.132 55.9885 64.567 55.7408 64.7745 55.6004C64.9753 55.4598 65.3299 55.1855 65.5575 54.9914C65.7848 54.7975 66.0994 54.4829 66.2533 54.3022C66.4005 54.1147 66.6883 53.6932 66.8822 53.3653C67.083 53.0308 67.344 52.5221 67.4711 52.2279C67.5984 51.9335 67.7724 51.3913 67.8661 51.0234C67.9597 50.6552 68.0801 49.9594 68.1271 49.4843C68.1939 48.7949 68.1939 48.427 68.1337 47.7445C68.0868 47.2625 67.9663 46.5266 67.8594 46.1049C67.7523 45.6701 67.5247 45.0343 67.3507 44.6664C67.1767 44.2982 66.9292 43.8165 66.7955 43.5956C66.6615 43.3748 66.3806 43.0135 66.1798 42.7926C65.979 42.5719 65.631 42.2305 65.4103 42.0366C65.1893 41.8358 64.7678 41.5347 64.4734 41.3541C64.1789 41.1801 63.724 40.939 63.4696 40.8321C63.2086 40.7183 62.7871 40.5644 62.5328 40.4907C62.2717 40.4105 61.79 40.2968 61.4622 40.2365C60.9871 40.1495 60.2443 40.1227 57.9692 40.096L55.085 40.0625L55.0718 57.0792ZM81.0349 37.0044L81.1421 37.2587C81.2023 37.3924 81.3829 37.8542 81.5368 38.2758C81.6975 38.6975 82.1593 39.8416 82.5607 40.8185C82.9623 41.7955 83.6581 43.482 84.0997 44.5659C84.5414 45.65 85.204 47.2962 85.5719 48.2129C85.9332 49.1363 86.5622 50.6753 86.9638 51.6457C87.3653 52.6091 87.7131 53.3786 87.7333 53.3521C87.7534 53.3253 88.1349 52.4085 88.5832 51.3244C89.0315 50.2403 89.5734 48.8819 89.7877 48.3132C90.0084 47.7445 90.4031 46.7474 90.671 46.1049C90.9387 45.4627 91.6345 43.7629 92.2233 42.3242C92.8122 40.8923 93.4679 39.2662 93.6754 38.7108C93.8895 38.1622 94.1237 37.5598 94.3311 37.0378L99.4169 37.0044L99.4236 48.5808C99.4368 58.8191 99.4236 60.164 99.3365 60.1908C99.283 60.2109 98.5201 60.2242 97.6436 60.2242C96.7736 60.2242 96.0176 60.204 95.9773 60.1775C95.9105 60.1372 95.8903 58.1432 95.8569 42.1236L95.007 44.1979C94.5385 45.342 93.943 46.7874 93.6889 47.4097C93.4279 48.0389 92.9194 49.3037 92.5512 50.2204C92.1833 51.1438 91.6814 52.3751 91.4405 52.9638C91.1928 53.5526 90.5907 55.0115 90.1089 56.2092C89.6203 57.4071 89.0715 58.7589 88.8909 59.2138C88.7102 59.6756 88.5229 60.0905 88.476 60.1372C88.4158 60.1974 88.1816 60.2242 87.7399 60.2308C87.2113 60.2308 87.064 60.2109 86.9436 60.1104C86.8566 60.0369 86.5958 59.4748 86.2879 58.6851C86.007 57.9692 85.5921 56.932 85.3711 56.3766C85.1504 55.8278 84.595 54.4829 84.1467 53.3988C83.6984 52.3147 83.0559 50.7488 82.7212 49.9191C82.3867 49.0894 81.9318 47.9652 81.7108 47.4097C81.4901 46.8612 80.9347 45.4893 80.4662 44.3651C80.0046 43.2409 79.6097 42.3109 79.5898 42.2907C79.5763 42.2708 79.5561 46.259 79.563 51.1438C79.563 59.1334 79.5495 60.0369 79.4558 60.1239C79.3688 60.2109 79.081 60.2242 77.7494 60.2242C76.4178 60.2242 76.13 60.2109 76.0499 60.1239C75.9629 60.0369 75.9494 58.665 75.9494 48.6143C75.9494 42.3377 75.9629 37.1585 75.9897 37.1049C76.0231 37.0179 76.3642 37.0044 81.0349 37.0044ZM176.591 43.7428C177.012 43.7563 177.708 43.8298 178.13 43.9035C178.552 43.977 179.14 44.1176 179.435 44.2179C179.729 44.3184 180.211 44.5391 180.499 44.6998C180.82 44.8805 181.235 45.2017 181.543 45.5028C181.85 45.8038 182.192 46.2322 182.406 46.5734C182.593 46.8879 182.841 47.3763 182.948 47.6641C183.055 47.9453 183.195 48.427 183.256 48.7347C183.349 49.2032 183.369 49.9392 183.416 58.083L183.129 58.3573C182.974 58.5045 182.607 58.7923 182.312 58.9862C182.018 59.187 181.462 59.4947 181.074 59.6756C180.686 59.8563 180.131 60.0836 179.836 60.1841C179.542 60.2778 179.027 60.4183 178.699 60.4852C178.364 60.5587 177.722 60.6526 177.26 60.6993C176.785 60.7462 176.076 60.7595 175.62 60.7396C175.179 60.7128 174.563 60.6457 174.249 60.5855C173.934 60.5321 173.426 60.3916 173.111 60.2778C172.797 60.1706 172.328 59.97 172.074 59.8295C171.813 59.6955 171.425 59.448 171.211 59.2873C170.99 59.1202 170.622 58.7589 170.388 58.4843C170.147 58.2101 169.852 57.775 169.725 57.514C169.598 57.2599 169.444 56.8182 169.391 56.5439C169.317 56.2026 169.297 55.8747 169.324 55.5065C169.344 55.2123 169.404 54.7906 169.464 54.5699C169.518 54.3489 169.692 53.9142 169.839 53.5996C170.067 53.1378 170.227 52.9237 170.696 52.4619C171.01 52.1475 171.452 51.7862 171.673 51.6589C171.893 51.5319 172.375 51.3244 172.743 51.204C173.272 51.0234 173.579 50.9631 174.215 50.9162C174.657 50.8894 176.109 50.8626 179.87 50.856V50.3408C179.87 50.053 179.836 49.6382 179.796 49.4172C179.756 49.1965 179.622 48.8084 179.502 48.5474C179.354 48.2397 179.16 47.9721 178.94 47.7644C178.752 47.5906 178.411 47.3564 178.177 47.2426C177.949 47.1354 177.534 46.9949 177.26 46.9347C176.945 46.8678 176.403 46.8277 175.821 46.8277C175.058 46.8211 174.724 46.8545 174.048 46.9949C173.586 47.0954 172.897 47.2827 172.509 47.4166C172.121 47.5503 171.673 47.731 171.505 47.8248C171.338 47.9185 171.171 47.9787 171.137 47.9652C171.097 47.9453 170.997 47.7378 170.91 47.5036C170.816 47.2694 170.582 46.7206 170.033 45.5028L170.18 45.3489C170.267 45.2619 170.588 45.0677 170.903 44.9139C171.217 44.7667 171.8 44.5324 172.208 44.3987C172.609 44.2648 173.319 44.0841 173.78 43.9905C174.242 43.8969 174.885 43.7963 175.219 43.7629C175.547 43.7361 176.169 43.7229 176.591 43.7428ZM174.55 53.6664C174.403 53.7134 174.168 53.807 174.028 53.8805C173.894 53.9476 173.64 54.1282 173.473 54.2887C173.299 54.4426 173.098 54.6903 173.024 54.8375C172.951 54.9848 172.877 55.2726 172.857 55.4731C172.823 55.7811 172.85 55.9081 172.991 56.2092C173.104 56.4501 173.305 56.7044 173.553 56.932C173.774 57.1259 174.095 57.3602 174.282 57.4472C174.463 57.5342 174.811 57.6613 175.052 57.7283C175.38 57.822 175.701 57.8488 176.39 57.8421C177.079 57.8353 177.42 57.8018 177.829 57.688C178.123 57.6079 178.571 57.4472 178.832 57.3201C179.087 57.1997 179.428 57.0055 179.582 56.8851L179.87 56.6777V53.4656C176.524 53.4791 175.386 53.5059 175.186 53.5327C174.985 53.5595 174.697 53.6197 174.55 53.6664ZM125.614 44.238C126.946 44.2314 127.22 44.2515 127.307 44.3316C127.394 44.4187 127.408 45.389 127.408 52.2279C127.408 59.2271 127.394 60.0369 127.301 60.1239C127.214 60.2109 126.933 60.2242 125.628 60.2242C124.764 60.2242 124.015 60.2109 123.961 60.1908C123.874 60.164 123.861 59.2138 123.848 52.2345C123.834 45.3622 123.848 44.3049 123.928 44.2781C123.982 44.2582 124.745 44.238 125.614 44.238ZM152.341 44.2314C153.639 44.2314 153.92 44.2515 154.007 44.3316C154.094 44.4187 154.107 45.389 154.107 52.2279C154.107 59.2271 154.094 60.0369 154 60.1239C153.913 60.2109 153.632 60.2242 152.327 60.2242C151.022 60.2242 150.741 60.2109 150.661 60.1239C150.574 60.0369 150.56 59.0666 150.554 52.2345C150.547 45.0879 150.56 44.4322 150.661 44.3385C150.755 44.2515 151.002 44.2314 152.341 44.2314ZM7.36074 49.5177H24.3573V51.3244C24.3573 52.8701 24.344 53.1378 24.257 53.1646C24.2034 53.1847 20.4227 53.198 15.859 53.198C11.2954 53.198 7.51464 53.1847 7.46111 53.1646C7.37413 53.1378 7.36074 52.8701 7.36074 51.3244V49.5177ZM14.6546 56.6108L24.3239 56.6442L24.3374 58.4175C24.3506 59.7759 24.3374 60.204 24.2703 60.2443C24.2236 60.2711 22.0889 60.291 19.5193 60.291C16.9565 60.291 14.8085 60.2778 14.7549 60.2576C14.6679 60.2308 14.6546 59.9632 14.6546 58.4175V56.6108Z"
                        fill="url(#paint0_linear_22496_1473)"/>
                </g>
                <defs>
                    <linearGradient
                        id="paint0_linear_22496_1473"
                        x1="95.5892"
                        y1="0"
                        x2="95.5892"
                        y2="67.9531"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#FFC700"/>
                        <stop offset="1" stop-color="#B36B00"/>
                    </linearGradient>
                    <clipPath id="clip0_22496_1473">
                        <rect width="191.178" height="68" fill="white"/>
                    </clipPath>
                </defs>
            </svg>
            
            <h3><?php esc_html_e( 'Pagamento realizado com sucesso!', 'bdm-checkout' ); ?></h3>

            <svg
                width="131"
                height="131"
                viewbox="0 0 131 131"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M65.0556 0C52.1888 0 39.611 3.81544 28.9127 10.9638C18.2143 18.1122 9.87599 28.2725 4.95209 40.1599C0.0281872 52.0472 -1.26013 65.1277 1.25005 77.7473C3.76024 90.3668 9.95618 101.959 19.0544 111.057C28.1525 120.155 39.7443 126.351 52.3639 128.861C64.9834 131.371 78.0639 130.083 89.9513 125.159C101.839 120.235 111.999 111.897 119.147 101.198C126.296 90.5002 130.111 77.9223 130.111 65.0556C130.111 47.8018 123.257 31.2546 111.057 19.0543C98.8565 6.85405 82.3094 0 65.0556 0ZM107.545 43.2213L54.1181 96.6075L22.5662 65.0556C21.4878 63.9772 20.882 62.5146 20.882 60.9896C20.882 59.4646 21.4878 58.002 22.5662 56.9236C23.6445 55.8453 25.1071 55.2394 26.6321 55.2394C28.1572 55.2394 29.6198 55.8453 30.6981 56.9236L54.1994 80.4249L99.4944 35.1707C100.028 34.6367 100.662 34.2132 101.36 33.9242C102.057 33.6352 102.805 33.4865 103.56 33.4865C104.315 33.4865 105.063 33.6352 105.761 33.9242C106.458 34.2132 107.092 34.6367 107.626 35.1707C108.16 35.7046 108.584 36.3385 108.873 37.0361C109.162 37.7338 109.311 38.4815 109.311 39.2366C109.311 39.9918 109.162 40.7395 108.873 41.4371C108.584 42.1348 108.16 42.7687 107.626 43.3026L107.545 43.2213Z"
                    fill="url(#paint0_linear_22496_1421)"/>
                <defs>
                    <lineargradient
                        id="paint0_linear_22496_1421"
                        x1="4.74363"
                        y1="-5.0818"
                        x2="71.8322"
                        y2="123.674"
                        gradientunits="userSpaceOnUse">
                        <stop offset="1" stop-color="#0C9C51"/>
                    </lineargradient>
                </defs>
            </svg>

            <p>
                <?php esc_html_e( 'Seu pagamento em BDM DIGITAL foi confirmado!', 'bdm-checkout' ); ?>
                <br/><br/>
                <?php esc_html_e( 'Seu pedido já está sendo preparado e em breve será enviado para o seu endereço.', 'bdm-checkout' ); ?>
            </p>
        </li>
    </ul>
</section>

<!-- Loading State -->
<div
    class="loading d-none flex-column justify-content-center align-items-center h-100 vw-100">
    <div class="loader"></div>
</div>

<?php get_footer(); // Standard for WordPress templates ?>

<?php
/**
 * Function to display the WooCommerce cart in the checkout template.
 *
 * @return string HTML of cart items and total.
 */
function get_bdm_checkout_cart() {
    // Access the WooCommerce cart
    $cart_items = WC()->cart->get_cart();
    $total = 0;
    $output = '';

    if ( ! empty( $cart_items ) ) {
        foreach ( $cart_items as $cart_item_key => $cart_item ) {
            $product_name = esc_html( $cart_item['data']->get_name() );
            $quantity = esc_html( $cart_item['quantity'] );
            $line_total = (float) $cart_item['line_total']; // Ensure it's a numeric value
            $product_price = wc_price( $line_total ); // Format price using WooCommerce's wc_price()

            // Summing the total
            $total += $line_total;

            // Building cart item display
            $output .= sprintf(
                '<p class="m-0 p-0 d-flex justify-content-between align-items-center">%s (%s) <span>%s</span></p>',
                $product_name,
                $quantity,
                $product_price
            );
        }

        // Displaying total
        $output .= sprintf( '<p><strong>Total: </strong>%s</p>', wc_price( $total ) );
    } else {
        $output .= '<p>' . esc_html__( 'No products in cart.', 'bdm-checkout' ) . '</p>';
    }

    return $output;
}
?>